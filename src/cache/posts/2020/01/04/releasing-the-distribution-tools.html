<p>Howdy!</p>
<p>Today, I'm releasing the tools that I have written to make Ren'Py distribution for the Mac a bit easier. This package, <code>renpy-distribute-tools</code>, is an open-source module for Python 3 and is Poetry-compatible.</p>
<h2>Why not <code>renpy/mac-notarization</code>?</h2>
<p>I started developing the tools before the scripts published on the Ren'Py GitHub were uploaded. Initially, the tools were bundled in the same place where I develop Unscripted, but I've moved them elsewhere when modernizing the Unscripted project. These tools also are just a bunch of Python functions and classes, so you can integrate them more easily into your workflow.</p>
<h2>How to get it</h2>
<p>You can get the tools at <a href="https://github.com/alicerunsonfedora/renpy-distribute-tools">https://github.com/alicerunsonfedora/renpy-distribute-tools</a> via GitHub. You can either download the latest release, clone the source code manually, or add them as a dependency to your Poetry project if you're using <a href="https://python-poetry.org">Poetry</a> to manage your VN:</p>
<pre><code class="language-toml">[tool.poetry.dev-dependencies]
renpy-distribute-tools = { git = &quot;https://github.com/alicerunsonfedora/renpy-distribute-tools.git&quot;, rev = &quot;v0.2.2&quot; }
</code></pre>
<h2>How to use it</h2>
<p>The tools don't come with any pre-built scripts like the Mac notarization tools provided by Ren'Py, but you can call the methods in the module to simplify the process.</p>
<p>For instance, if you want to fix the property list for the Mac build, code sign, and notarize it:</p>
<pre><code class="language-python">from renpy_distribute_tools import fix_plist, code_sign, upload_to_notary

author = &quot;Joe Smith&quot;
bundle_identifier = &quot;com.example.my-vn&quot;
code_sign_identity = &quot;Developer ID Application: Joe Smith (XXXXXXXXXX)&quot;
app_path = &quot;VN-1.0.0-dists/VN-1.0.0-mac/VN.app&quot;
apple_email = &quot;example.joesmith@icloud.com&quot;
apple_provider = &quot;XXXXXXXXXX&quot;

fix_plist(app_path + &quot;/Contents/Info.plist&quot;,
          bundle_identifier,
          &quot;Â© %s %s. All rights reserved.&quot; % (date.today().year, author))
code_sign(code_sign_identity,
          app_path,
          entitlements=&quot;../../entitlements.plist&quot;,
          enable_hardened_runtime=True)
try:
    upload_to_notary(app_path,
                     bundle_identifier,
                     apple_email,
                     &quot;@keychain:AC_PASSWORD&quot;,
                     provider=apple_provider)
except CalledProcessError:
    print(&quot;\033[31;1mNotarization request failed. Aborting.\033[0m&quot;)
    sys.exit(1)
</code></pre>
<p>There's also some documentation that you can read at <a href="https://marquiskurt.net/renpy-distribute-tools/">https://marquiskurt.net/renpy-distribute-tools/</a> to know what functions are available for use.</p>
